<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9LMNTS | Trinity Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Orbitron:wght@400;500;600;700&display=swap');
        
        * { 
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, border-color 0.3s;
        }
        
        :root {
            /* Dark Theme Variables */
            --bg-primary: #050A1F;
            --bg-secondary: #071028;
            --bg-card: rgba(10, 15, 35, 0.7);
            --text-primary: #FFFFFF;
            --text-secondary: #A0AEC0;
            --text-tertiary: #718096;
            --border-primary: rgba(0, 212, 255, 0.2);
            --border-secondary: rgba(255, 255, 255, 0.1);
            --cyber-blue: #00D4FF;
            --cyber-purple: #8A2BE2;
            --cyber-green: #00FF9D;
            --cyber-pink: #FF00E5;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --glass-bg: rgba(10, 15, 35, 0.85);
            --glass-border: rgba(0, 212, 255, 0.2);
        }
        
        body.light-theme {
            /* Light Theme Variables */
            --bg-primary: #F8FAFC;
            --bg-secondary: #EDF2F7;
            --bg-card: rgba(255, 255, 255, 0.95);
            --text-primary: #1A202C;
            --text-secondary: #4A5568;
            --text-tertiary: #718096;
            --border-primary: rgba(0, 212, 255, 0.3);
            --border-secondary: rgba(0, 0, 0, 0.1);
            --shadow-color: rgba(0, 0, 0, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.95);
            --glass-border: rgba(0, 102, 204, 0.2);
        }
        
        body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, var(--bg-primary) 100%);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
            padding-bottom: 80px; /* PATCHED: Increased from 60px to 80px */
        }
        
        /* Glassmorphism Effects */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            box-shadow: 0 8px 32px var(--shadow-color);
        }
        
        .glass-dark {
            background: rgba(5, 10, 25, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 212, 255, 0.15);
        }
        
        .glass-light {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
        }

        body.light-theme .glass-light {
             background: rgba(0, 0, 0, 0.05);
             border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        /* Typography & Colors */
        .font-orbitron { font-family: 'Orbitron', sans-serif; }
        .text-cyber-blue { color: var(--cyber-blue); }
        .text-cyber-green { color: var(--cyber-green); }
        .text-cyber-purple { color: var(--cyber-purple); }
        .text-cyber-pink { color: var(--cyber-pink); }
        
        /* Theme Overrides for Text */
        body.light-theme .text-white { color: var(--text-primary) !important; }
        body.light-theme .text-gray-300 { color: var(--text-secondary) !important; }
        body.light-theme .text-gray-400 { color: var(--text-tertiary) !important; }
        body.light-theme .text-gray-500 { color: var(--text-tertiary) !important; }
        
        /* Animations */
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 212, 255, 0.5); }
            50% { box-shadow: 0 0 40px rgba(0, 212, 255, 0.8); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        .pulse-glow { animation: pulse-glow 2s infinite; }
        .float-animation { animation: float 3s ease-in-out infinite; }
        .animate-marquee { animation: marquee 30s linear infinite; }
        
        /* Component Specifics */
        .vip-badge {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #000;
            font-weight: 800;
        }
        .micro-badge {
            background: linear-gradient(135deg, var(--cyber-green) 0%, var(--cyber-blue) 100%);
            color: #000;
            font-weight: 800;
        }
        
        .glossy-btn {
            background: linear-gradient(145deg, var(--cyber-blue), color-mix(in srgb, var(--cyber-blue) 80%, black 20%));
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }
        .glossy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px color-mix(in srgb, var(--cyber-blue) 40%, transparent 60%);
        }
        
        .financial-card {
            background: linear-gradient(145deg, var(--bg-card), color-mix(in srgb, var(--bg-card) 90%, black 10%));
            border: 1px solid var(--border-primary);
            border-radius: 16px;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }
        body.light-theme .financial-card {
            background: linear-gradient(145deg, #ffffff, #f0f4f8);
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        .financial-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 3px;
            background: linear-gradient(90deg, var(--cyber-blue), var(--cyber-purple), var(--cyber-green));
        }

        /* Toggle Switch */
        .theme-toggle { position: relative; display: inline-block; width: 60px; height: 30px; }
        .theme-toggle input { opacity: 0; width: 0; height: 0; }
        .theme-slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(90deg, #1A202C, #2D3748);
            transition: .4s; border-radius: 34px;
        }
        .theme-slider:before {
            position: absolute; content: ""; height: 22px; width: 22px; left: 4px; bottom: 4px;
            background: linear-gradient(145deg, #FFD700, #FFA500);
            transition: .4s; border-radius: 50%;
        }
        body.light-theme .theme-slider { background: #CBD5E0; }
        body.light-theme .theme-slider:before { background: #00D4FF; transform: translateX(30px); }
        
        /* Grid Background */
        .crypto-pattern {
            background-image: 
                radial-gradient(circle at 25% 25%, color-mix(in srgb, var(--cyber-blue) 5%, transparent 95%) 0%, transparent 55%),
                radial-gradient(circle at 75% 75%, color-mix(in srgb, var(--cyber-purple) 5%, transparent 95%) 0%, transparent 55%);
        }
        
        /* Utility */
        .h-full-card { display: flex; flex-direction: column; height: 100%; }
        .flex-grow-content { flex-grow: 1; display: flex; flex-direction: column; }
        
        /* PATCH: Card layout fixes */
        .card-equal-height {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .card-content-grow {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }
        .card-bottom-align {
            margin-top: auto;
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
        ::-webkit-scrollbar-thumb { background: var(--cyber-blue); border-radius: 4px; }
    </style>
</head>
<body class="crypto-pattern">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ====== UTILITY FUNCTIONS ======
        const formatMoney = (amount) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 }).format(amount);
        const formatCompact = (amount) => {
            if (amount >= 1000000) return '$' + (amount / 1000000).toFixed(1) + 'M';
            if (amount >= 1000) return '$' + (amount / 1000).toFixed(1) + 'K';
            return '$' + amount;
        };
        const calculateROI = (investment, apy) => investment * (apy / 100);

        // ====== PLATFORM DATA ======
        const PLATFORM_DATA = {
            assets: [
                {
                    id: 1, name: "CRYSTAL TOWER", type: "Luxury Crypto Hub", status: "ACTIVE", target: 85000000, raised: 62450000, microRaised: 9850000, apy: 11.5,
                    description: "92-story marvel in the blockchain district. Features smart contracts for lease management.",
                    location: "Singapore", tags: ["VIP", "MICRO", "PREMIUM"], image: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800"
                },
                {
                    id: 2, name: "BLOCKCHAIN HQ", type: "Web3 Commercial", status: "ACTIVE", target: 45000000, raised: 42000000, microRaised: 2850000, apy: 14.5,
                    description: "Flagship creative studio for Web3 startups. On-premise node hosting.",
                    location: "Tokyo", tags: ["VIP", "MICRO", "TECH"], image: "https://images.unsplash.com/photo-1487956382158-bb926046304a?w=800"
                },
                {
                    id: 3, name: "MINING HUB ALPHA", type: "Crypto Industrial", status: "FUNDING", target: 35000000, raised: 18500000, microRaised: 4280000, apy: 9.8,
                    description: "Sustainable crypto mining center running on 100% geothermal energy.",
                    location: "Reykjavik", tags: ["MICRO", "INDUSTRIAL"], image: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=800"
                },
                {
                    id: 4, name: "NFT GALLERY TOWER", type: "Digital Art Hub", status: "UPCOMING", target: 28000000, raised: 12500000, microRaised: 3250000, apy: 16.2,
                    description: "Immersive digital art exhibitions and premium retail for collectibles.",
                    location: "New York", tags: ["VIP", "MICRO", "NFT"], image: "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800"
                },
                {
                    id: 5, name: "CRYPTO VILLAS", type: "Luxury Residential", status: "UPCOMING", target: 22000000, raised: 8500000, microRaised: 1950000, apy: 10.8,
                    description: "Gated community of smart homes with integrated blockchain utilities.",
                    location: "Dubai", tags: ["VIP", "MICRO", "LUXURY"], image: "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800"
                },
                {
                    id: 6, name: "WEB3 DATA CENTER", type: "Infrastructure", status: "ACTIVE", target: 65000000, raised: 52000000, microRaised: 18500000, apy: 8.5,
                    description: "Tier IV data center supporting blockchain networks.",
                    location: "London", tags: ["VIP", "INFRASTRUCTURE"], image: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?w=800"
                }
            ],
            stats: { tvl: 254800000, totalInvestors: 15680, microInvestors: 12450 }
        };

        // ====== COMPONENTS ======

        // 1. Landing Page
        const LandingPage = ({ onGetStarted }) => (
            <div className="min-h-screen flex items-center justify-center p-4">
                <div className="text-center max-w-4xl mx-auto mt-[-50px]">
                    <div className="mb-6 float-animation">
                        <div className="w-28 h-28 mx-auto bg-gradient-to-br from-cyber-blue to-cyber-purple rounded-full flex items-center justify-center pulse-glow">
                            <span className="text-5xl font-black text-white font-orbitron">9</span>
                        </div>
                    </div>
                    <h1 className="text-5xl md:text-7xl font-black text-white mb-4 font-orbitron">9LMNTS</h1>
                    <p className="text-2xl text-cyber-blue mb-8 font-orbitron tracking-widest">TRINITY PROTOCOL</p>
                    
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                        <div className="glass p-6 rounded-xl transform hover:scale-105 transition-transform cursor-pointer" onClick={() => onGetStarted('micro')}>
                            <div className="text-4xl text-cyber-green mb-3"><i className="fas fa-users"></i></div>
                            <h3 className="text-xl font-bold text-white">Micro Tier</h3>
                            <p className="text-gray-400 text-sm">Start from $250</p>
                        </div>
                        <div className="glass p-6 rounded-xl transform hover:scale-105 transition-transform cursor-pointer" onClick={() => onGetStarted('vip')}>
                            <div className="text-4xl text-cyber-blue mb-3"><i className="fas fa-crown"></i></div>
                            <h3 className="text-xl font-bold text-white">VIP Tier</h3>
                            <p className="text-gray-400 text-sm">Min $50,000</p>
                        </div>
                        <div className="glass p-6 rounded-xl transform hover:scale-105 transition-transform cursor-pointer" onClick={() => onGetStarted('god')}>
                            <div className="text-4xl text-cyber-purple mb-3"><i className="fas fa-eye"></i></div>
                            <h3 className="text-xl font-bold text-white">God Mode</h3>
                            <p className="text-gray-400 text-sm">Admin View</p>
                        </div>
                    </div>

                    <button onClick={() => onGetStarted('micro')} className="glossy-btn px-10 py-4 text-lg w-full md:w-auto">
                        ENTER PLATFORM
                    </button>
                </div>
            </div>
        );

        // 2. VIP Investor View (PATCHED)
        const VIPInvestorView = ({ assets, onInvest }) => {
            const [selectedAsset, setSelectedAsset] = useState(null);
            const [amount, setAmount] = useState(100000);

            const handleInvestClick = (asset) => {
                setSelectedAsset(asset);
                setAmount(100000); // Default VIP amount
            };

            const confirmInvest = () => {
                onInvest(selectedAsset.id, amount, 'VIP');
                confetti({ particleCount: 150, spread: 80, colors: ['#00D4FF', '#8A2BE2'] });
                setSelectedAsset(null);
            };

            return (
                <div className="p-4 md:p-6 max-w-7xl mx-auto">
                    <div className="glass p-6 mb-8 border-l-4 border-cyber-blue">
                        <h2 className="text-3xl font-bold text-white font-orbitron mb-2">VIP DASHBOARD</h2>
                        <p className="text-gray-300">Institutional Grade Access. Minimum Ticket: $50,000</p>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                        {assets.filter(a => a.tags.includes('VIP')).map(asset => {
                            const percent = Math.min(((asset.raised + asset.microRaised) / asset.target) * 100, 100);
                            return (
                                <div key={asset.id} className="glass rounded-xl overflow-hidden card-equal-height hover:border-cyber-blue transition-all border border-transparent">
                                    <div className="h-48 relative">
                                        <img src={asset.image} className="w-full h-full object-cover" />
                                        <span className="absolute top-3 right-3 vip-badge px-3 py-1 rounded text-xs">VIP ACCESS</span>
                                    </div>
                                    <div className="p-5 card-content-grow">
                                        <div className="flex justify-between items-start mb-2">
                                            <h3 className="font-bold text-lg text-white">{asset.name}</h3>
                                            <span className="text-cyber-green font-bold">{asset.apy}% APY</span>
                                        </div>
                                        <p className="text-sm text-gray-400 mb-4 flex-grow">{asset.description}</p>
                                        
                                        <div className="card-bottom-align">
                                            <div className="w-full bg-gray-800 h-2 rounded-full mb-2 overflow-hidden">
                                                <div className="bg-cyber-blue h-full" style={{width: `${percent}%`}}></div>
                                            </div>
                                            <div className="flex justify-between text-xs text-gray-500 mb-4">
                                                <span>{formatCompact(asset.raised + asset.microRaised)} raised</span>
                                                <span>Goal: {formatCompact(asset.target)}</span>
                                            </div>
                                            <button onClick={() => handleInvestClick(asset)} className="glossy-btn w-full">INVEST NOW</button>
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>

                    {/* VIP Modal (PATCHED with mobile scrolling) */}
                    {selectedAsset && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm">
                            <div className="glass max-w-lg w-full max-h-[85vh] overflow-y-auto rounded-2xl p-6 border border-cyber-blue relative">
                                <button onClick={() => setSelectedAsset(null)} className="absolute top-4 right-4 text-gray-400 hover:text-white"><i className="fas fa-times text-xl"></i></button>
                                <h3 className="text-2xl font-bold text-white mb-1">{selectedAsset.name}</h3>
                                <p className="text-cyber-blue text-sm mb-6">VIP Investment Tier</p>
                                
                                <div className="mb-8">
                                    <div className="flex justify-between text-white mb-2">
                                        <span>Investment Amount</span>
                                        <span className="font-bold font-orbitron">{formatMoney(amount)}</span>
                                    </div>
                                    <input type="range" min="50000" max="5000000" step="50000" value={amount} onChange={(e) => setAmount(Number(e.target.value))} 
                                        className="w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyber-blue" />
                                    <div className="flex justify-between text-xs text-gray-500 mt-2">
                                        <span>$50K</span>
                                        <span>$5M</span>
                                    </div>
                                </div>

                                <div className="glass-light p-4 rounded-xl mb-6 space-y-2">
                                    <div className="flex justify-between text-sm">
                                        <span className="text-gray-400">Est. Annual Yield</span>
                                        <span className="text-cyber-green font-bold">+{formatMoney(calculateROI(amount, selectedAsset.apy))}</span>
                                    </div>
                                    <div className="flex justify-between text-sm">
                                        <span className="text-gray-400">VIP Fee (0.5%)</span>
                                        <span className="text-white">{formatMoney(amount * 0.005)}</span>
                                    </div>
                                </div>
                                <button onClick={confirmInvest} className="glossy-btn w-full py-4 text-lg">CONFIRM TRANSACTION</button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // 3. Micro Investor View (PATCHED)
        const MicroInvestorView = ({ assets, onInvest }) => {
            const [selectedAsset, setSelectedAsset] = useState(null);
            const [amount, setAmount] = useState(1000);

            const handleInvestClick = (asset) => {
                setSelectedAsset(asset);
                setAmount(1000);
            };

            const confirmInvest = () => {
                onInvest(selectedAsset.id, amount, 'MICRO');
                confetti({ particleCount: 100, spread: 60, colors: ['#00FF9D', '#00D4FF'] });
                setSelectedAsset(null);
            };

            return (
                <div className="p-4 md:p-6 max-w-7xl mx-auto">
                    <div className="glass p-6 mb-8 border-l-4 border-cyber-green">
                        <h2 className="text-3xl font-bold text-white font-orbitron mb-2">MICRO MARKET</h2>
                        <p className="text-gray-300">Community Access. Start from just $250.</p>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                        {assets.filter(a => a.tags.includes('MICRO')).map(asset => {
                            const percent = Math.min((asset.microRaised / (asset.target * 0.2)) * 100, 100); // Micro target is 20% of total
                            return (
                                <div key={asset.id} className="glass rounded-xl overflow-hidden card-equal-height hover:border-cyber-green transition-all border border-transparent">
                                    <div className="h-48 relative">
                                        <img src={asset.image} className="w-full h-full object-cover" />
                                        <span className="absolute top-3 right-3 micro-badge px-3 py-1 rounded text-xs">MICRO</span>
                                    </div>
                                    <div className="p-5 card-content-grow">
                                        <div className="flex justify-between items-start mb-2">
                                            <h3 className="font-bold text-lg text-white">{asset.name}</h3>
                                            <span className="text-cyber-green font-bold">{asset.apy}% APY</span>
                                        </div>
                                        <p className="text-sm text-gray-400 mb-4 flex-grow">{asset.description}</p>
                                        
                                        <div className="card-bottom-align">
                                            <div className="w-full bg-gray-800 h-2 rounded-full mb-2 overflow-hidden">
                                                <div className="bg-cyber-green h-full" style={{width: `${percent}%`}}></div>
                                            </div>
                                            <div className="flex justify-between text-xs text-gray-500 mb-4">
                                                <span>{asset.microHolders || 0} investors</span>
                                                <span>Pool: {formatCompact(asset.microRaised)}</span>
                                            </div>
                                            <button onClick={() => handleInvestClick(asset)} className="glossy-btn w-full bg-gradient-to-r from-cyber-green to-cyber-blue">JOIN POOL</button>
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>

                    {/* Micro Modal (PATCHED with mobile scrolling) */}
                    {selectedAsset && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm">
                            <div className="glass max-w-sm w-full max-h-[85vh] overflow-y-auto rounded-2xl p-6 border border-cyber-green relative">
                                <button onClick={() => setSelectedAsset(null)} className="absolute top-4 right-4 text-gray-400 hover:text-white"><i className="fas fa-times text-xl"></i></button>
                                <h3 className="text-xl font-bold text-white mb-1">{selectedAsset.name}</h3>
                                <p className="text-cyber-green text-sm mb-6">Micro Pool Entry</p>
                                
                                <div className="mb-8">
                                    <div className="flex justify-between text-white mb-2">
                                        <span>Amount</span>
                                        <span className="font-bold font-orbitron">{formatMoney(amount)}</span>
                                    </div>
                                    <input type="range" min="250" max="5000" step="250" value={amount} onChange={(e) => setAmount(Number(e.target.value))} 
                                        className="w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyber-green" />
                                    <div className="flex justify-between text-xs text-gray-500 mt-2">
                                        <span>$250</span>
                                        <span>$5,000</span>
                                    </div>
                                </div>

                                <div className="grid grid-cols-2 gap-2 mb-6">
                                    {[250, 500, 1000, 2500].map(val => (
                                        <button key={val} onClick={() => setAmount(val)} className={`py-2 rounded-lg text-sm font-bold glass-light ${amount === val ? 'border-cyber-green text-cyber-green' : 'text-gray-400'}`}>${val}</button>
                                    ))}
                                </div>

                                <button onClick={confirmInvest} className="glossy-btn w-full py-3 bg-gradient-to-r from-cyber-green to-cyber-blue">CONFIRM</button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // 4. Portfolio Manager (Responsive Fix)
        const PortfolioManager = ({ portfolio, assets }) => {
            const totalValue = portfolio.reduce((acc, item) => acc + item.amount, 0);

            return (
                <div className="p-4 md:p-6 max-w-7xl mx-auto">
                    <div className="glass p-6 mb-6">
                        <div className="flex flex-col md:flex-row justify-between items-center">
                            <div>
                                <h2 className="text-2xl font-bold text-white font-orbitron">Your Portfolio</h2>
                                <p className="text-gray-400 text-sm">Real-time asset tracking</p>
                            </div>
                            <div className="mt-4 md:mt-0 text-center md:text-right">
                                <div className="text-3xl text-cyber-blue font-bold font-orbitron">{formatMoney(totalValue)}</div>
                                <div className="text-xs text-cyber-green">+12.4% All Time</div>
                            </div>
                        </div>
                    </div>

                    {/* Desktop View: Table */}
                    <div className="hidden md:block glass rounded-xl overflow-hidden">
                        <table className="w-full">
                            <thead className="bg-black/20 text-gray-400 text-sm">
                                <tr>
                                    <th className="p-4 text-left">Asset</th>
                                    <th className="p-4 text-right">Invested</th>
                                    <th className="p-4 text-right">Tier</th>
                                    <th className="p-4 text-right">Est. Yield</th>
                                    <th className="p-4 text-center">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                {portfolio.length > 0 ? portfolio.map((item, idx) => {
                                    const asset = assets.find(a => a.id === item.assetId);
                                    return (
                                        <tr key={idx} className="border-b border-gray-800 hover:bg-white/5">
                                            <td className="p-4 font-bold text-white">{item.name}</td>
                                            <td className="p-4 text-right text-white">{formatMoney(item.amount)}</td>
                                            <td className="p-4 text-right"><span className={`text-xs px-2 py-1 rounded ${item.type === 'VIP' ? 'bg-cyber-blue/20 text-cyber-blue' : 'bg-cyber-green/20 text-cyber-green'}`}>{item.type}</span></td>
                                            <td className="p-4 text-right text-cyber-green">+{formatMoney(calculateROI(item.amount, asset?.apy || 10))}</td>
                                            <td className="p-4 text-center"><button className="text-gray-400 hover:text-white"><i className="fas fa-ellipsis-h"></i></button></td>
                                        </tr>
                                    )
                                }) : (
                                    <tr><td colSpan="5" className="p-8 text-center text-gray-500">No investments yet.</td></tr>
                                )}
                            </tbody>
                        </table>
                    </div>

                    {/* Mobile View: Cards */}
                    <div className="md:hidden space-y-4">
                        {portfolio.length > 0 ? portfolio.map((item, idx) => {
                             const asset = assets.find(a => a.id === item.assetId);
                             return (
                                <div key={idx} className="glass p-4 rounded-xl">
                                    <div className="flex justify-between mb-2">
                                        <span className="font-bold text-white">{item.name}</span>
                                        <span className={`text-xs px-2 py-1 rounded h-fit ${item.type === 'VIP' ? 'bg-cyber-blue/20 text-cyber-blue' : 'bg-cyber-green/20 text-cyber-green'}`}>{item.type}</span>
                                    </div>
                                    <div className="flex justify-between text-sm mb-1">
                                        <span className="text-gray-400">Invested:</span>
                                        <span className="text-white">{formatMoney(item.amount)}</span>
                                    </div>
                                    <div className="flex justify-between text-sm">
                                        <span className="text-gray-400">Yield:</span>
                                        <span className="text-cyber-green">+{formatMoney(calculateROI(item.amount, asset?.apy || 10))}</span>
                                    </div>
                                </div>
                             )
                        }) : (
                            <div className="glass p-8 text-center text-gray-500">No investments yet.</div>
                        )}
                    </div>
                </div>
            );
        };

        // 5. God Mode (Admin)
        const GodMode = ({ stats }) => {
            const [load, setLoad] = useState(45);
            
            useEffect(() => {
                const interval = setInterval(() => setLoad(prev => Math.min(Math.max(prev + (Math.random() * 10 - 5), 30), 95)), 1000);
                return () => clearInterval(interval);
            }, []);

            return (
                <div className="p-4 md:p-6 max-w-7xl mx-auto">
                    <div className="glass p-6 mb-8 border-t-4 border-cyber-purple">
                        <div className="flex justify-between items-center">
                            <h2 className="text-3xl font-bold text-white font-orbitron">GOD MODE</h2>
                            <div className="text-xs text-cyber-pink animate-pulse">● LIVE NETWORK FEED</div>
                        </div>
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div className="financial-card">
                            <div className="text-gray-400 text-xs mb-1">TOTAL VALUE LOCKED</div>
                            <div className="text-3xl font-orbitron text-white">{formatCompact(stats.tvl)}</div>
                        </div>
                        <div className="financial-card">
                            <div className="text-gray-400 text-xs mb-1">PROTOCOL REVENUE (1.5%)</div>
                            <div className="text-3xl font-orbitron text-cyber-green">{formatCompact(stats.tvl * 0.015)}</div>
                        </div>
                         <div className="financial-card">
                            <div className="text-gray-400 text-xs mb-1">NETWORK LOAD</div>
                            <div className="flex items-center">
                                <div className="w-full bg-gray-800 h-3 rounded-full mr-3 overflow-hidden">
                                    <div className={`h-full transition-all duration-500 ${load > 80 ? 'bg-cyber-pink' : 'bg-cyber-purple'}`} style={{width: `${load}%`}}></div>
                                </div>
                                <span className="text-white font-mono">{load.toFixed(0)}%</span>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // ====== MAIN APP ======
        const App = () => {
            const [page, setPage] = useState('landing');
            const [theme, setTheme] = useState('dark');
            const [assets, setAssets] = useState(PLATFORM_DATA.assets);
            const [portfolio, setPortfolio] = useState([]);

            useEffect(() => {
                document.body.className = theme === 'light' ? 'light-theme' : 'crypto-pattern';
            }, [theme]);

            const handleInvest = (assetId, amount, type) => {
                const assetName = assets.find(a => a.id === assetId).name;
                setPortfolio(prev => [...prev, { assetId, name: assetName, amount, type }]);
                setAssets(prev => prev.map(a => {
                    if (a.id === assetId) {
                        return type === 'VIP' ? { ...a, raised: a.raised + amount } : { ...a, microRaised: a.microRaised + amount };
                    }
                    return a;
                }));
            };

            const toggleTheme = () => setTheme(prev => prev === 'dark' ? 'light' : 'dark');

            return (
                <div className="min-h-screen relative pb-16">
                    {/* Navigation */}
                    {page !== 'landing' && (
                        <nav className="sticky top-0 z-40 glass-dark border-b border-gray-700/50 px-4 py-3 flex justify-between items-center">
                            <div className="flex items-center cursor-pointer" onClick={() => setPage('landing')}>
                                <div className="w-8 h-8 bg-gradient-to-r from-cyber-blue to-cyber-purple rounded-lg flex items-center justify-center font-bold text-white mr-2">9</div>
                                <span className="font-orbitron font-bold text-white hidden md:block">9LMNTS</span>
                            </div>
                            
                            <div className="flex items-center space-x-2 md:space-x-4">
                                <button onClick={() => setPage('micro')} className={`px-3 py-1 rounded text-sm ${page === 'micro' ? 'bg-cyber-green text-black font-bold' : 'text-gray-400'}`}>Micro</button>
                                <button onClick={() => setPage('vip')} className={`px-3 py-1 rounded text-sm ${page === 'vip' ? 'bg-cyber-blue text-black font-bold' : 'text-gray-400'}`}>VIP</button>
                                <button onClick={() => setPage('god')} className={`px-3 py-1 rounded text-sm ${page === 'god' ? 'bg-cyber-purple text-white font-bold' : 'text-gray-400'}`}>God</button>
                                <button onClick={() => setPage('portfolio')} className={`px-3 py-1 rounded text-sm ${page === 'portfolio' ? 'bg-white text-black font-bold' : 'text-gray-400'}`}>Portfolio</button>
                                
                                <div className="ml-2 pl-2 border-l border-gray-600 flex items-center">
                                    <i className={`fas ${theme === 'dark' ? 'fa-moon text-cyber-blue' : 'fa-sun text-yellow-500'} mr-2`}></i>
                                    <label className="theme-toggle scale-75">
                                        <input type="checkbox" checked={theme === 'light'} onChange={toggleTheme} />
                                        <span className="theme-slider"></span>
                                    </label>
                                </div>
                            </div>
                        </nav>
                    )}

                    {/* Page Content */}
                    <div className="animate-fade-in">
                        {page === 'landing' && <LandingPage onGetStarted={setPage} />}
                        {page === 'vip' && <VIPInvestorView assets={assets} onInvest={handleInvest} />}
                        {page === 'micro' && <MicroInvestorView assets={assets} onInvest={handleInvest} />}
                        {page === 'portfolio' && <PortfolioManager portfolio={portfolio} assets={assets} />}
                        {page === 'god' && <GodMode stats={{...PLATFORM_DATA.stats, tvl: PLATFORM_DATA.stats.tvl + portfolio.reduce((a,b)=>a+b.amount,0)}} />}
                    </div>

                    {/* Ticker Footer */}
                    {page !== 'landing' && (
                        <div className="fixed bottom-0 left-0 right-0 glass-dark border-t border-gray-800 py-2 z-30">
                            <div className="overflow-hidden whitespace-nowrap">
                                <div className="inline-block animate-marquee text-sm">
                                    <span className="text-cyber-blue font-bold mx-4">LIVE:</span>
                                    <span className="text-gray-400 mx-4">CRYSTAL TOWER 98% FUNDED</span>
                                    <span className="text-gray-400 mx-4">•</span>
                                    <span className="text-gray-400 mx-4">NEW VIP POOL OPEN: BLOCKCHAIN HQ</span>
                                    <span className="text-gray-400 mx-4">•</span>
                                    <span className="text-gray-400 mx-4">MICRO YIELD DISTRIBUTION COMPLETE</span>
                                    <span className="text-gray-400 mx-4">•</span>
                                    <span className="text-gray-400 mx-4">9LMNTS TOKEN +4.2%</span>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>