<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9LMNTS Capital | Supreme Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=jetbrains-mono:wght@400;700&display=swap');
        * { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .bg-primary { background-color: #050505; }
        .text-accent { color: #FF5500; }
        .bg-accent { background-color: #FF5500; }
        .glass { background: rgba(17, 24, 39, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .glass-hover:hover { background: rgba(31, 41, 55, 0.8); border-color: rgba(255, 85, 0, 0.5); }
        
        /* Ticker Animation */
        .ticker-wrap { width: 100%; overflow: hidden; white-space: nowrap; box-sizing: border-box; }
        .ticker { display: inline-block; animation: ticker 30s linear infinite; }
        @keyframes ticker { 0% { transform: translate3d(0, 0, 0); } 100% { transform: translate3d(-100%, 0, 0); } }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #FF5500; }

        .glow-text { text-shadow: 0 0 20px rgba(255, 85, 0, 0.5); }
    </style>
</head>
<body class="bg-primary min-h-screen text-gray-100 selection:bg-accent selection:text-white">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const formatCurrency = (amount) => {
            return new Intl.NumberFormat('en-US', {
                style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0
            }).format(amount);
        };

        // --- Data ---
        const NEWS_TICKER = [
            "MARKET UPDATE: Downtown Commercial Yields up 2.4%",
            "NEW LISTING: 9LMNTS Tower Phase 2 coming soon",
            "LIQUIDITY: Secondary market volume hits $42M",
            "SYSTEM: Smart Contracts Audited by CertiK",
            "SPONSORSHIP: Global Dev Group acquires Platinum Slot"
        ];

        const INITIAL_ASSETS = [
            {
                id: 1, name: "The Ether Tower", description: "Ultra-luxury downtown residential high-rise.",
                location: "Financial District", target: 50000000, deployed: 28500000, apy: 8.5,
                imageMain: "https://placehold.co/800x450/111/FF5500/png?text=Ether+Tower",
                imageFloorplan: "https://placehold.co/800x600/000/FFF/png?text=Floorplan+Level+40",
                isSponsored: true, // REVENUE FEATURE
                suites: [
                    { id: '1-A', name: "Unit 12B (2 Bed)", size: "1,200 sqft", price: 850000, status: 'available' },
                    { id: '1-B', name: "Unit 15A (1 Bed)", size: "850 sqft", price: 625000, status: 'available' },
                    { id: '1-C', name: "Penthouse", size: "3,500 sqft", price: 4500000, status: 'available' },
                ],
                financials: [45, 52, 58, 61, 75, 82, 85] // Mock chart data
            },
            {
                id: 2, name: "9LMNTS HQ", description: "Flagship creative studio complex.",
                location: "Arts District", target: 20000000, deployed: 12500000, apy: 12.2,
                imageMain: "https://placehold.co/800x450/111/10B981/png?text=9LMNTS+HQ",
                imageFloorplan: "https://placehold.co/800x600/000/FFF/png?text=Studio+Layout",
                isSponsored: false,
                suites: [
                    { id: '2-A', name: "Studio A", size: "5,000 sqft", price: 2500000, status: 'available' },
                    { id: '2-B', name: "Office 201", size: "1,500 sqft", price: 900000, status: 'available' },
                ],
                financials: [20, 35, 45, 48, 55, 65, 72]
            },
            {
                id: 3, name: "Culture Arena", description: "Esports & Entertainment venue.",
                location: "Tech Park", target: 75000000, deployed: 45000000, apy: 9.8,
                imageMain: "https://placehold.co/800x450/111/3B82F6/png?text=Culture+Arena",
                imageFloorplan: "https://placehold.co/800x600/000/FFF/png?text=Arena+Seating",
                isSponsored: false,
                suites: [
                    { id: '3-A', name: "VIP Box", size: "20 seats", price: 1500000, status: 'available' },
                    { id: '3-B', name: "Retail Unit", size: "800 sqft", price: 450000, status: 'available' },
                ],
                financials: [30, 32, 40, 55, 60, 75, 90]
            }
        ];

        // --- Visual Components ---

        const Chart = ({ data, color }) => {
            const max = Math.max(...data);
            const points = data.map((val, i) => `${(i / (data.length - 1)) * 100},${100 - (val / max) * 100}`).join(' ');
            
            return (
                <div className="h-40 w-full relative mt-4">
                    <svg viewBox="0 0 100 100" preserveAspectRatio="none" className="w-full h-full overflow-visible">
                        {/* Gradient Fill */}
                        <defs>
                            <linearGradient id="chartGradient" x1="0" x2="0" y1="0" y2="1">
                                <stop offset="0%" stopColor={color || "#FF5500"} stopOpacity="0.5" />
                                <stop offset="100%" stopColor={color || "#FF5500"} stopOpacity="0" />
                            </linearGradient>
                        </defs>
                        <path d={`M0,100 ${points} 100,100`} fill="url(#chartGradient)" />
                        {/* Line */}
                        <polyline points={points} fill="none" stroke={color || "#FF5500"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                        {/* Dots */}
                        {data.map((val, i) => (
                            <circle key={i} cx={(i / (data.length - 1)) * 100} cy={100 - (val / max) * 100} r="1.5" fill="#fff" />
                        ))}
                    </svg>
                    <div className="absolute top-0 left-0 text-xs text-gray-500 font-mono">YIELD GROWTH</div>
                </div>
            );
        };

        const SponsorshipBanner = ({ asset, onClick }) => (
            <div className="mb-8 relative group cursor-pointer" onClick={() => onClick(asset)}>
                <div className="absolute -inset-1 bg-gradient-to-r from-yellow-600 to-yellow-400 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000"></div>
                <div className="relative h-64 rounded-2xl overflow-hidden border border-yellow-500/30">
                    <img src={asset.imageMain} className="w-full h-full object-cover group-hover:scale-105 transition duration-700" />
                    <div className="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
                    <div className="absolute top-4 left-4 bg-yellow-500 text-black text-xs font-black px-3 py-1 rounded uppercase tracking-widest flex items-center">
                        <svg className="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                        Platinum Partner
                    </div>
                    <div className="absolute bottom-6 left-6 max-w-lg">
                        <h2 className="text-3xl font-black text-white mb-1">{asset.name}</h2>
                        <p className="text-gray-300 line-clamp-1">{asset.description}</p>
                    </div>
                    <div className="absolute bottom-6 right-6 text-right">
                        <div className="text-yellow-400 font-black mono text-2xl">{asset.apy}% APY</div>
                        <div className="text-xs text-gray-400 uppercase">Projected Yield</div>
                    </div>
                </div>
            </div>
        );

        // --- Screens ---

        const ConnectScreen = ({ onConnect }) => {
            const [status, setStatus] = useState('idle'); // idle, connecting, success

            const handleConnect = () => {
                setStatus('connecting');
                setTimeout(() => {
                    setStatus('success');
                    confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 }, colors: ['#FF5500', '#ffffff'] });
                    setTimeout(onConnect, 1500);
                }, 2000);
            };

            return (
                <div className="h-screen flex flex-col items-center justify-center relative overflow-hidden bg-primary">
                    <div className="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-primary to-primary opacity-50"></div>
                    <div className="z-10 text-center space-y-8 max-w-md w-full px-6">
                        <div className="space-y-2">
                            <h1 className="text-6xl font-black text-white tracking-tighter glow-text">9LMNTS</h1>
                            <p className="text-xl text-gray-400 tracking-widest font-light">SUPREME CAPITAL</p>
                        </div>
                        
                        <div className="glass p-8 rounded-2xl border-t border-gray-800">
                            <div className="flex justify-between text-sm text-gray-500 mb-6 mono">
                                <span>NET: POLYGON TEST</span>
                                <span className="text-green-500">● LIVE</span>
                            </div>
                            <button onClick={handleConnect} disabled={status !== 'idle'}
                                className={`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 relative overflow-hidden group ${
                                    status === 'success' ? 'bg-green-500 text-black' : 'bg-white text-black hover:bg-accent hover:text-white'
                                }`}>
                                <div className="absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"></div>
                                <span className="relative">
                                    {status === 'idle' && "CONNECT INSTITUTIONAL WALLET"}
                                    {status === 'connecting' && "AUTHENTICATING..."}
                                    {status === 'success' && "ACCESS GRANTED"}
                                </span>
                            </button>
                        </div>
                    </div>
                    
                    {/* Ticker at bottom of login */}
                    <div className="absolute bottom-0 left-0 right-0 bg-black/50 border-t border-gray-800 py-2">
                        <div className="ticker-wrap">
                            <div className="ticker text-xs font-mono text-gray-500">
                                {NEWS_TICKER.map((item, i) => <span key={i} className="mx-8">✦ {item}</span>)}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const PropertyModal = ({ asset, onClose, onBuy, liquidity }) => {
            const [tab, setTab] = useState('overview');
            const [purchasing, setPurchasing] = useState(null);

            const handleBuy = (suite) => {
                if(liquidity < suite.price) return alert("Insufficient Funds");
                setPurchasing(suite.id);
                setTimeout(() => {
                    // THE CELEBRATION
                    confetti({ particleCount: 150, spread: 100, origin: { y: 0.6 }, colors: ['#FF5500', '#10B981', '#FFD700'] });
                    onBuy(asset.id, suite.id, suite.price);
                    setPurchasing(null);
                }, 1500);
            };

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md">
                    <div className="bg-gray-900 w-full max-w-5xl h-[85vh] rounded-3xl border border-gray-800 overflow-hidden flex shadow-2xl">
                        {/* Sidebar */}
                        <div className="w-64 bg-black/50 border-r border-gray-800 p-6 flex flex-col">
                            <h3 className="text-xl font-bold text-white mb-6 leading-tight">{asset.name}</h3>
                            <nav className="space-y-2 flex-1">
                                {['overview', 'financials', 'floorplan', 'suites'].map(t => (
                                    <button key={t} onClick={() => setTab(t)}
                                        className={`w-full text-left px-4 py-3 rounded-xl text-sm font-bold transition-all ${tab === t ? 'bg-accent text-white' : 'text-gray-400 hover:bg-gray-800'}`}>
                                        {t.charAt(0).toUpperCase() + t.slice(1)}
                                    </button>
                                ))}
                            </nav>
                            <button onClick={onClose} className="mt-auto flex items-center text-gray-400 hover:text-white transition-colors">
                                <svg className="w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                                Back to Market
                            </button>
                        </div>

                        {/* Content */}
                        <div className="flex-1 overflow-y-auto bg-gray-900 relative">
                            {/* Hero Image in Modal */}
                            <div className="h-48 relative">
                                <img src={asset.imageMain} className="w-full h-full object-cover opacity-50" />
                                <div className="absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent"></div>
                                <div className="absolute bottom-4 left-6">
                                    <div className="text-accent font-mono text-sm mb-1">CAPITAL DEPLOYED</div>
                                    <div className="text-3xl font-mono text-white font-bold">{formatCurrency(asset.deployed)}</div>
                                </div>
                            </div>

                            <div className="p-8">
                                {tab === 'overview' && (
                                    <div className="space-y-6 animate-fade-in">
                                        <div className="grid grid-cols-3 gap-4">
                                            <div className="glass p-4 rounded-xl">
                                                <div className="text-gray-400 text-xs uppercase">Target APY</div>
                                                <div className="text-2xl text-green-400 font-mono font-bold">{asset.apy}%</div>
                                            </div>
                                            <div className="glass p-4 rounded-xl">
                                                <div className="text-gray-400 text-xs uppercase">Cap Rate</div>
                                                <div className="text-2xl text-white font-mono font-bold">5.2%</div>
                                            </div>
                                            <div className="glass p-4 rounded-xl">
                                                <div className="text-gray-400 text-xs uppercase">Occupancy</div>
                                                <div className="text-2xl text-white font-mono font-bold">98%</div>
                                            </div>
                                        </div>
                                        <p className="text-gray-300 leading-relaxed text-lg">{asset.description} Located in the prime {asset.location}, this asset represents a tier-1 institutional holding opportunity with immediate cash flow distribution.</p>
                                    </div>
                                )}

                                {tab === 'financials' && (
                                    <div>
                                        <h4 className="text-lg font-bold text-white mb-4">Projected Performance (5Y)</h4>
                                        <div className="glass p-6 rounded-2xl">
                                            <Chart data={asset.financials} color={asset.id === 2 ? '#10B981' : '#FF5500'} />
                                            <div className="flex justify-between mt-4 text-xs text-gray-500 font-mono">
                                                <span>2025</span><span>2026</span><span>2027</span><span>2028</span><span>2029</span><span>2030</span>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {tab === 'floorplan' && (
                                    <div className="bg-white/5 p-4 rounded-2xl border border-gray-700 flex justify-center">
                                        <img src={asset.imageFloorplan} className="max-h-96 opacity-90" />
                                    </div>
                                )}

                                {tab === 'suites' && (
                                    <div className="space-y-4">
                                        <div className="flex justify-between items-center mb-4">
                                            <h4 className="font-bold text-white">Select Unit Allocation</h4>
                                            <span className="mono text-accent">{formatCurrency(liquidity)} Available</span>
                                        </div>
                                        {asset.suites.map(suite => (
                                            <div key={suite.id} className={`glass p-4 rounded-xl flex items-center justify-between border-l-4 ${suite.status === 'sold' ? 'border-gray-600 opacity-50' : 'border-accent'}`}>
                                                <div>
                                                    <div className="font-bold text-lg text-white">{suite.name}</div>
                                                    <div className="text-gray-400 text-sm">{suite.size}</div>
                                                </div>
                                                <div className="text-right flex items-center space-x-4">
                                                    <div className="mono font-bold text-xl">{formatCurrency(suite.price)}</div>
                                                    <button 
                                                        onClick={() => handleBuy(suite)}
                                                        disabled={suite.status === 'sold' || liquidity < suite.price || purchasing}
                                                        className={`px-6 py-2 rounded-lg font-bold text-sm ${suite.status === 'sold' ? 'bg-transparent text-gray-500' : 'bg-white text-black hover:bg-accent hover:text-white transition-colors'}`}>
                                                        {suite.status === 'sold' ? 'SOLD' : purchasing === suite.id ? 'MINTING...' : 'ACQUIRE'}
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const Dashboard = () => {
            const [liquidity, setLiquidity] = useState(2500000); // 2.5M Starting
            const [assets, setAssets] = useState(INITIAL_ASSETS);
            const [selected, setSelected] = useState(null);
            const [portfolio, setPortfolio] = useState([]);

            const handleBuy = (assetId, suiteId, price) => {
                setLiquidity(l => l - price);
                setAssets(prev => prev.map(a => a.id === assetId ? {
                    ...a, suites: a.suites.map(s => s.id === suiteId ? {...s, status: 'sold'} : s)
                } : a));
                const asset = assets.find(a => a.id === assetId);
                const suite = asset.suites.find(s => s.id === suiteId);
                setPortfolio(p => [...p, { asset: asset.name, unit: suite.name, val: price }]);
                // Keep modal open to show Sold state, or close it. Let's keep open for "Sold" satisfaction.
            };

            const sponsoredAsset = assets.find(a => a.isSponsored);
            const otherAssets = assets.filter(a => !a.isSponsored);

            return (
                <div className="min-h-screen pb-20 bg-primary">
                    {/* Header */}
                    <header className="sticky top-0 z-40 bg-gray-900/80 backdrop-blur-md border-b border-gray-800 px-6 py-4 flex justify-between items-center">
                        <div className="flex items-center space-x-3">
                            <div className="w-8 h-8 bg-accent rounded flex items-center justify-center font-black text-black">9</div>
                            <span className="font-bold text-xl tracking-tight text-white">9LMNTS <span className="text-gray-500 font-normal">CAPITAL</span></span>
                        </div>
                        <div className="flex items-center space-x-6">
                            <div className="text-right hidden md:block">
                                <div className="text-xs text-gray-500 uppercase">Total Portfolio</div>
                                <div className="font-mono font-bold text-white">{formatCurrency(portfolio.reduce((a,b)=>a+b.val, 0))}</div>
                            </div>
                            <div className="bg-gray-800 rounded-lg px-4 py-2 border border-gray-700">
                                <div className="text-xs text-accent font-bold uppercase">Liquidity</div>
                                <div className="font-mono font-bold text-xl text-white">{formatCurrency(liquidity)}</div>
                            </div>
                        </div>
                    </header>

                    <main className="max-w-7xl mx-auto p-6">
                        {/* REVENUE SLOT: Sponsorship */}
                        {sponsoredAsset && <SponsorshipBanner asset={sponsoredAsset} onClick={setSelected} />}

                        {/* Market Grid */}
                        <div className="flex justify-between items-end mb-6">
                            <h2 className="text-2xl font-bold text-white">Primary Market</h2>
                            <button className="text-accent text-sm font-bold hover:text-white">VIEW SECONDARY MARKET &rarr;</button>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                            {otherAssets.map(asset => (
                                <div key={asset.id} onClick={() => setSelected(asset)} className="glass rounded-2xl overflow-hidden glass-hover cursor-pointer group transition-all duration-300">
                                    <div className="h-48 relative overflow-hidden">
                                        <img src={asset.imageMain} className="w-full h-full object-cover group-hover:scale-110 transition duration-700" />
                                        <div className="absolute top-4 right-4 bg-black/60 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-white border border-white/10">
                                            {asset.suites.filter(s=>s.status==='available').length} UNITS LEFT
                                        </div>
                                    </div>
                                    <div className="p-6">
                                        <div className="flex justify-between items-start mb-4">
                                            <div>
                                                <h3 className="text-xl font-bold text-white">{asset.name}</h3>
                                                <p className="text-gray-400 text-sm">{asset.location}</p>
                                            </div>
                                            <div className="text-right">
                                                <div className="text-green-400 font-bold mono">{asset.apy}%</div>
                                                <div className="text-xs text-gray-500">APY</div>
                                            </div>
                                        </div>
                                        <div className="w-full bg-gray-800 h-1.5 rounded-full overflow-hidden mb-4">
                                            <div className="bg-accent h-full" style={{width: `${(asset.deployed/asset.target)*100}%`}}></div>
                                        </div>
                                        <div className="flex justify-between items-center text-sm">
                                            <span className="text-gray-400">Target: {formatCurrency(asset.target)}</span>
                                            <span className="text-white font-bold group-hover:text-accent transition-colors">DEPLOY &rarr;</span>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </main>

                    {/* Ticker Footer */}
                    <div className="fixed bottom-0 w-full bg-gray-900 border-t border-gray-800 py-2 z-30">
                        <div className="ticker-wrap">
                             <div className="ticker text-xs font-mono text-gray-400">
                                {NEWS_TICKER.map((item, i) => <span key={i} className="mx-12">● {item}</span>)}
                            </div>
                        </div>
                    </div>

                    {selected && <PropertyModal asset={selected} liquidity={liquidity} onClose={() => setSelected(null)} onBuy={handleBuy} />}
                </div>
            );
        };

        const App = () => {
            const [connected, setConnected] = useState(false);
            return connected ? <Dashboard /> : <ConnectScreen onConnect={() => setConnected(true)} />;
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>